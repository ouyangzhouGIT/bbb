(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-375f537c"],{"0bfb":function(e,a,t){"use strict";var i=t("cb7c");e.exports=function(){var e=i(this),a="";return e.global&&(a+="g"),e.ignoreCase&&(a+="i"),e.multiline&&(a+="m"),e.unicode&&(a+="u"),e.sticky&&(a+="y"),a}},"3b2b":function(e,a,t){var i=t("7726"),l=t("5dbc"),n=t("86cc").f,r=t("9093").f,s=t("aae3"),o=t("0bfb"),c=i.RegExp,u=c,d=c.prototype,m=/a/g,f=/a/g,p=new c(m)!==m;if(t("9e1e")&&(!p||t("79e5")(function(){return f[t("2b4c")("match")]=!1,c(m)!=m||c(f)==f||"/a/i"!=c(m,"i")}))){c=function(e,a){var t=this instanceof c,i=s(e),n=void 0===a;return!t&&i&&e.constructor===c&&n?e:l(p?new u(i&&!n?e.source:e,a):u((i=e instanceof c)?e.source:e,i&&n?o.call(e):a),t?this:d,c)};for(var v=function(e){e in c||n(c,e,{configurable:!0,get:function(){return u[e]},set:function(a){u[e]=a}})},b=r(u),g=0;b.length>g;)v(b[g++]);d.constructor=c,c.prototype=d,t("2aba")(i,"RegExp",c)}t("7a56")("RegExp")},"5dbc":function(e,a,t){var i=t("d3f4"),l=t("8b97").set;e.exports=function(e,a,t){var n,r=a.constructor;return r!==t&&"function"==typeof r&&(n=r.prototype)!==t.prototype&&i(n)&&l&&l(e,n),e}},"8b97":function(e,a,t){var i=t("d3f4"),l=t("cb7c"),n=function(e,a){if(l(e),!i(a)&&null!==a)throw TypeError(a+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,a,i){try{i=t("9b43")(Function.call,t("11e9").f(Object.prototype,"__proto__").set,2),i(e,[]),a=!(e instanceof Array)}catch(l){a=!0}return function(e,t){return n(e,t),a?e.__proto__=t:i(e,t),e}}({},!1):void 0),check:n}},e7e1:function(e,a,t){"use strict";var i=t("e8a0"),l=t.n(i);l.a},e8a0:function(e,a,t){},f1f3:function(e,a,t){"use strict";t.r(a);var i=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"wiki-modify-warp"},[t("mineheader"),t("div",{staticClass:"wiki-modify-main"},[t("ul",[t("li",[t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"点击更换头像",placement:"right-start"}},[t("el-upload",{ref:"imgFile",staticClass:"avatar-uploader",attrs:{action:"http://192.168.68.214:50000/post/file",name:"avatar","show-file-list":!1,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload}},[e.imageUrl?t("img",{staticClass:"avatar",attrs:{src:e.imageUrl}}):t("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),t("p",{directives:[{name:"show",rawName:"v-show",value:!e.modifyUsername,expression:"!modifyUsername"}]},[t("el-input",{attrs:{type:"text",placeholder:"请输入内容",maxlength:"10","show-word-limit":""},model:{value:e.username,callback:function(a){e.username=a},expression:"username"}}),t("i",{staticClass:"el-icon-circle-check",on:{click:e.modifyUsernameState_true}})],1),t("p",{directives:[{name:"show",rawName:"v-show",value:e.modifyUsername,expression:"modifyUsername"}]},[e._v(e._s(e.people["username"])+" "),t("i",{staticClass:"el-icon-edit",on:{click:e.modifyUsernameState_false}})])],1),t("li",[t("span",{staticClass:"wiki-modify-main-select"},[e._v("性别:")]),t("el-radio",{attrs:{label:"0"},model:{value:e.radio,callback:function(a){e.radio=a},expression:"radio"}},[e._v("保密")]),t("el-radio",{attrs:{label:"1"},model:{value:e.radio,callback:function(a){e.radio=a},expression:"radio"}},[e._v("男")]),t("el-radio",{attrs:{label:"2"},model:{value:e.radio,callback:function(a){e.radio=a},expression:"radio"}},[e._v("女")])],1),t("li",[t("span",{staticClass:"wiki-modify-main-select"},[e._v("个性签名:")]),t("el-input",{attrs:{type:"text",placeholder:"请输入内容",maxlength:"20","show-word-limit":""},model:{value:e.text,callback:function(a){e.text=a},expression:"text"}})],1),t("li",[t("span",{staticClass:"wiki-modify-main-select"},[e._v("所在省份:")]),t("el-select",{attrs:{placeholder:"请选择"},model:{value:e.value6,callback:function(a){e.value6=a},expression:"value6"}},e._l(e.cities,function(a){return t("el-option",{key:a.value,attrs:{label:a.label,value:a.value}},[t("span",{staticStyle:{float:"left"}},[e._v(e._s(a.label))]),t("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[e._v(e._s(a.value))])])}),1)],1),t("li",[t("span",{staticClass:"wiki-modify-main-select"},[e._v("邮箱:")]),t("el-form",{ref:"dynamicValidateForm",staticClass:"demo-dynamic",attrs:{model:e.dynamicValidateForm,"label-width":"100px"}},[t("el-form-item",{staticClass:"wiki-modify-main-select-email",attrs:{prop:"email",rules:[{required:!0,message:"请输入邮箱地址",trigger:"blur"},{type:"email",message:"请输入正确的邮箱格式",trigger:["blur","change"]}]}},[t("el-input",{model:{value:e.dynamicValidateForm.email,callback:function(a){e.$set(e.dynamicValidateForm,"email",a)},expression:"dynamicValidateForm.email"}})],1)],1)],1)]),t("el-button",{attrs:{type:"info"},on:{click:e.submissionMsg}},[e._v("提交信息")])],1)],1)},l=[],n=(t("8e6e"),t("ac6a"),t("cadf"),t("456d"),t("3b2b"),t("bd86")),r=t("ed03"),s=t("2f62"),o=t("365c");function c(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);a&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,i)}return t}function u(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?c(t,!0).forEach(function(a){Object(n["a"])(e,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):c(t).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))})}return e}var d={components:{mineheader:r["a"]},data:function(){return{radio:"0",username:"",numberValidateForm:{age:null},cities:[{value:"Beijing",label:"北京"},{value:"Shanghai",label:"上海"},{value:"Tianjin",label:"天津"},{value:"Jiangsu",label:"江苏"},{value:"Zhejiang",label:"浙江"},{value:"Anhui",label:"安徽"},{value:"Fujian",label:"福建"},{value:"Jiangxi",label:"江西"},{value:"Hunan",label:"湖南"},{value:"Shandong",label:"山东"},{value:"Henan",label:"河南"},{value:"Neimeng",label:"内蒙古自治区"},{value:"Hubei",label:"湖北"},{value:"Ningxia",label:"宁夏回族自治区"},{value:"Guangdong",label:"广东"},{value:"Xizang",label:"西藏自治区"},{value:"Hainan",label:"海南"},{value:"Guangxi",label:"广西壮族自治区"},{value:"Sichuan",label:"四川"},{value:"Hebei",label:"河北"},{value:"Guizhou",label:"贵州"},{value:"Chongqing",label:"重庆"},{value:"Shanxi",label:"山西"},{value:"Yunnan",label:"云南"},{value:"Liaoning",label:"辽宁"},{value:" Shanxi",label:"陕西"},{value:"Jilin",label:"吉林"},{value:"Gansu",label:"甘肃"},{value:"Heilongjiang",label:"黑龙江"},{value:"Qinghai",label:"青海"},{value:"Taiwan",label:"台湾"},{value:"Xianggang",label:"香港特别行政区"},{value:"Aomen",label:"澳门特别行政区"}],value6:"湖南",dynamicValidateForm:{domains:[{value:""}],email:""},imageUrl:"",modifyUsername:!0,text:"",headers:"JWT "+localStorage.getItem("token")}},methods:u({},Object(s["b"])(["modifypeoplemsg"]),{ageLength:function(){this.numberValidateForm.age>99?this.numberValidateForm.age=99:this.numberValidateForm.age},handleAvatarSuccess:function(e,a){this.imageUrl=e.data.file_data},beforeAvatarUpload:function(e){var a="image/png"===e.type||"image/jpeg"===e.type,t=e.size/1024/1024<2;return a||this.$message.error("上传头像图片只能是 JPG 或者 PNG格式!"),t||this.$message.error("上传头像图片大小不能超过 2MB!"),a&&t},submissionMsg:function(){var e=this,a=new RegExp("^[a-z0-9A-Z]+[- | a-z0-9A-Z . _]+@([a-z0-9A-Z]+(-[a-z0-9A-Z]+)?\\.)+[a-z]{2,}$"),t="";t="0"==this.radio?"保密":"1"==this.radio?"男":"女",a.test(this.dynamicValidateForm.email)?(o["r"](this.people["username"],t,this.value6,this.text,this.imageUrl,this.dynamicValidateForm.email).then(function(a){if(1==a.data.code){alert("修改信息成功");var t={username:a.data.data.user_info.username,email:a.data.data.user_info.email,gender:a.data.data.user_info.gender,scores:a.data.data.user_info.scores,signature:a.data.data.user_info.signature,city:a.data.data.user_info.city,avatar:a.data.data.user_info.avatar};e.modifypeoplemsg(JSON.stringify(t))}}),this.$router.push("/mine")):alert("邮箱格式不对，请输入正确的邮箱！")},modifyUsernameState_false:function(){this.modifyUsername=!this.modifyUsername},modifyUsernameState_true:function(){var e=this,a="";a="0"==this.radio?"保密":"1"==this.radio?"男":"女",o["r"](this.username,a,this.value6,this.text,this.imageUrl,this.dynamicValidateForm.email).then(function(a){if(1==a.data.code){alert("修改信息成功");var t={username:a.data.data.user_info.username,email:a.data.data.user_info.email,gender:a.data.data.user_info.gender,scores:a.data.data.user_info.scores,signature:a.data.data.user_info.signature,city:a.data.data.user_info.city,avatar:a.data.data.user_info.avatar};e.modifypeoplemsg(JSON.stringify(t))}})}}),computed:u({},Object(s["c"])(["people"])),created:function(){"男"==this.people.gender?this.radio="1":"女"==this.people.gender?this.radio="2":this.radio="0",this.dynamicValidateForm.email=this.people.email,this.value6=this.people.city,this.username=this.people.username,this.text=this.people.signature,this.imageUrl=JSON.parse(localStorage.getItem("people")).avatar}},m=d,f=(t("e7e1"),t("2877")),p=Object(f["a"])(m,i,l,!1,null,null,null);a["default"]=p.exports}}]);
//# sourceMappingURL=chunk-375f537c.984c442a.js.map