{"version":3,"sources":["webpack:///./src/components/Task/index.vue?7cbb","webpack:///./src/api/index.js","webpack:///./src/components/Task/index.vue?208f","webpack:///src/components/Task/index.vue","webpack:///./src/components/Task/index.vue?0d17","webpack:///./src/components/Task/index.vue"],"names":["ajax","axios","create","interceptors","request","use","config","headers","localStorage","getItem","response","resp","error","status","removeItem","router","push","alert","ipURL","getLogin","username","password","post","modifyPeopleData","user_id","scores","is_disable","modifyArticleType","type_id","type_name","type_describe","modifySecondTitle","book_id","book_name","describe","addArticleType","type","addSecondTitle","modifyArticleStatus","article_id","status_id","deleteArticle","modifyArticleContent","id","title","content","read_num","comment_num","addRole","roles","email","remark","modifyTaskStatus","task_id","getManagerList","get","getPermissionList","getOrderList","getUserList","getMessageList","getOutlineList","getExamineList","page","getPassExamineList","audit","getRoleList","getTaskList","render","_vm","this","_h","$createElement","_c","_self","staticClass","staticStyle","attrs","list","scopedSlots","_u","key","fn","scope","on","$event","handleClick","row","_v","handleModify","staticRenderFns","methods","$alert","created","data","code","component"],"mappings":"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","file":"js/chunk-5587be29.49818c55.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=scss&\"","import axios from 'axios'\r\nimport router from '@/router'\r\n\r\nconst ajax = axios.create({\r\n    // headers:{\r\n    //     Authorization : 'JWT ' + localStorage.getItem('token'),\r\n    // }\r\n})\r\n\r\najax.interceptors.request.use(config => {\r\n    config.headers['Authorization'] = 'JWT ' + localStorage.getItem('backstagetoken')\r\n    return config\r\n  })\r\n  \r\n  ajax.interceptors.response.use(resp => {\r\n    \r\n    return resp\r\n  },error=>{\r\n      if(error.response.status == 401){\r\n            localStorage.removeItem('backstagetoken')\r\n            localStorage.removeItem(\"backstagepeople\");\r\n          router.push('/login')\r\n          alert('用户身份失效，请重新登录')\r\n      }\r\n  })\r\n\r\n\r\nvar ipURL = 'https://wiki.mj.team:5000' //wiki.mj.team   https://192.168.68.131:5000   http://192.168.68.214:5000\r\n\r\nexport const getLogin = (username,password) => ajax.post(ipURL+'/admin/user/login',{\r\n    username,password \r\n}) //登录请求\r\n\r\nexport const modifyPeopleData = (user_id,scores,is_disable) => ajax.post(ipURL+'/admin/put/user-detail',{\r\n    user_id,scores,is_disable\r\n}) //修改个人积分\r\n\r\nexport const modifyArticleType = (type_id,type_name,type_describe) => ajax.post(ipURL+'/admin/put/article-type',{\r\n    type_id,type_name,type_describe\r\n}) //修改文章类型\r\n\r\nexport const modifySecondTitle = (book_id,book_name,describe,type_id) => ajax.post(ipURL+'/admin/put/article-book',{\r\n    book_id,book_name,describe,type_id\r\n}) //修改二级标题\r\n\r\nexport const addArticleType = (type) => ajax.post(ipURL+'/admin/post/add-article-type',{\r\n    type\r\n}) //添加文章类型\r\n\r\nexport const addSecondTitle = (book_name,type_id,describe) => ajax.post(ipURL+'/admin/post/add-article-book',{\r\n    book_name,type_id,describe\r\n}) //添加二级大纲\r\n\r\nexport const modifyArticleStatus = (article_id,status_id) => ajax.post(ipURL+'/admin/put/article-status',{\r\n    article_id,status_id\r\n}) //更改文章状态\r\n\r\nexport const deleteArticle = (article_id) => ajax.post(ipURL+'/admin/put/article-list',{\r\n    article_id\r\n}) //删除文章\r\n\r\nexport const modifyArticleContent = (id,user_id,book_id,status_id,title,content,read_num,comment_num,type_id) => ajax.post(ipURL+'/admin/put/article-content',{\r\n    id,user_id,book_id,status_id,title,content,read_num,comment_num,type_id\r\n}) //修改文章内容\r\n\r\nexport const addRole = (username,password,roles,email,remark) => ajax.post(ipURL+'/admin/user/register',{\r\n    username,password,roles,email,remark\r\n}) //添加管理员\r\n\r\nexport const modifyTaskStatus = (task_id,status_id) => ajax.post(ipURL+'/admin/put/task-list',{\r\n    task_id,status_id\r\n}) //修改任务状态\r\n\r\nexport const getManagerList = () => ajax.get(ipURL+'/admin/get/manager-list') //管理员列表\r\n\r\nexport const getPermissionList = () => ajax.get(ipURL+'/admin/get/permission_list') //权限列表\r\n\r\nexport const getOrderList = () => ajax.get(ipURL+'/admin/get/work-order') //工单列表\r\n\r\nexport const getUserList = () => ajax.get(ipURL+'/admin/get/user-list') //用户列表\r\n\r\nexport const getMessageList = () => ajax.get(ipURL+'/admin/get/message-list') //用户列表\r\n\r\nexport const getOutlineList = () => ajax.get(ipURL+'/admin/get/article-type') //大纲栏目列表\r\n\r\nexport const getExamineList = (page) => ajax.get(ipURL+`/admin/get/article-list?page=${page}`) //审核文章列表\r\n\r\nexport const getPassExamineList = (page,audit) => ajax.get(ipURL+`/admin/get/article-list?page=${page}&audit=${audit}`) //通过审核文章列表\r\n\r\nexport const getRoleList = () => ajax.get(ipURL+'/admin/get/role-list') //用户角色权限列表\r\n\r\nexport const getTaskList = () => ajax.get(ipURL+'/admin/get/task-list') //任务列表","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"bs-task\"},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.list,\"border\":\"\"}},[_c('el-table-column',{attrs:{\"fixed\":\"\",\"prop\":\"create_time\",\"label\":\"发布日期\",\"width\":\"200\"}}),_c('el-table-column',{attrs:{\"prop\":\"title\",\"label\":\"任务名称\",\"width\":\"120\"}}),_c('el-table-column',{attrs:{\"prop\":\"submit_username\",\"label\":\"发布人\",\"width\":\"120\"}}),_c('el-table-column',{attrs:{\"prop\":\"status_name\",\"label\":\"状态\",\"width\":\"120\"}}),_c('el-table-column',{attrs:{\"prop\":\"book_name\",\"label\":\"任务类型\",\"width\":\"200\"}}),_c('el-table-column',{attrs:{\"prop\":\"content\",\"label\":\"任务内容\",\"width\":\"420\"}}),_c('el-table-column',{attrs:{\"fixed\":\"right\",\"label\":\"操作\",\"width\":\"200\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.handleClick(scope.row)}}},[_vm._v(\"查看\")]),_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.handleModify(scope.row)}}},[_vm._v(\"修改状态\")])]}}])})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"bs-task\">\r\n    <el-table :data=\"list\" border style=\"width: 100%\">\r\n      <el-table-column fixed prop=\"create_time\" label=\"发布日期\" width=\"200\"></el-table-column>\r\n      <el-table-column prop=\"title\" label=\"任务名称\" width=\"120\"></el-table-column>\r\n      <el-table-column prop=\"submit_username\" label=\"发布人\" width=\"120\"></el-table-column>\r\n      <el-table-column prop=\"status_name\" label=\"状态\" width=\"120\"></el-table-column>\r\n      <el-table-column prop=\"book_name\" label=\"任务类型\" width=\"200\"></el-table-column>\r\n      <el-table-column prop=\"content\" label=\"任务内容\" width=\"420\"></el-table-column>\r\n      <el-table-column fixed=\"right\" label=\"操作\" width=\"200\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button @click=\"handleClick(scope.row)\" type=\"text\" size=\"small\">查看</el-button>\r\n          <el-button type=\"text\" @click=\"handleModify(scope.row)\" size=\"small\">修改状态</el-button>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport * as ajax from \"@/api\";\r\n\r\nexport default {\r\n  methods: {\r\n    handleClick(row) {\r\n      this.$alert(\r\n        `<strong>发布人：${row.submit_username}</strong>\r\n        <p>任务状态:${row.status_name}</p>\r\n        <p>所属类型:${row.book_name}</p>\r\n        <p>发布时间:${row.create_time}</p>\r\n        <p>标题:${row.title}</p>\r\n        <p>技术点:${row.type_name}</p>\r\n        <p>发布内容:${row.content}</p>\r\n                `,\r\n        \"任务信息\",\r\n        {\r\n          dangerouslyUseHTMLString: true\r\n        }\r\n      );\r\n    },\r\n    handleModify(row){\r\n        let id = row.status_id==1 ? 2 : 1\r\n        ajax.modifyTaskStatus(row.id,id).then(resp=>{\r\n            if(resp.data.code){\r\n                for(var i=0;i<this.list.length;i++){\r\n                    if(resp.data.data.task_info.id == this.list[i].id){\r\n                        this.list[i].status_name = resp.data.data.task_info.status_name\r\n                        this.list[i].status_id = resp.data.data.task_info.status_id\r\n                    }\r\n                }\r\n            }\r\n            \r\n        })\r\n    }\r\n  },\r\n  created() {\r\n    ajax.getTaskList().then(resp => {\r\n      if (resp.data.code) {\r\n        this.list = resp.data.data.task_list;\r\n      }\r\n    });\r\n  },\r\n  data() {\r\n    return {\r\n      list: []\r\n    };\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang='scss'>\r\n.bs-public-task {\r\n  flex: 1;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=933814e8&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}