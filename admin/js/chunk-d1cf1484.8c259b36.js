(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d1cf1484"],{3710:function(e,t,a){"use strict";var s=a("d860"),r=a.n(s);r.a},"73c9":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"bs-home-manager"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.managerList,"max-height":"250"}},[a("el-table-column",{attrs:{fixed:"",prop:"create_time",label:"创建日期",width:"200"}}),a("el-table-column",{attrs:{prop:"username",label:"姓名",width:"150"}}),a("el-table-column",{attrs:{prop:"remark",label:"权限",width:"200"}}),a("el-table-column",{attrs:{prop:"sex",label:"性别",width:"120"}}),a("el-table-column",{attrs:{prop:"email",label:"邮箱",width:"800"}}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"380"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(a){return a.preventDefault(),e.deleteRow(t.$index,e.managerList)}}},[e._v("移除")]),a("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(a){return a.preventDefault(),e.seeMessage(t.$index,e.managerList)}}},[e._v("查看")]),a("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(a){return a.preventDefault(),e.modifyMessage(t.$index,e.managerList)}}},[e._v("修改")])]}}])}),a("input",{attrs:{type:"text"}})],1),a("addManager",{on:{addSuccess:e.addSuccess}})],1)},r=[],l=a("75fc"),n=(a("ac6a"),a("365c")),i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"bs-home-add-manager"},[a("div",{staticClass:"bs-add-manager-header"},[e._v("添加管理员")]),a("el-form",{ref:"dynamicValidateForm",staticClass:"demo-dynamic",attrs:{model:e.dynamicValidateForm,"label-width":"100px"}},[a("el-form-item",{attrs:{prop:"email",label:"邮箱",rules:[{required:!0,message:"请输入邮箱地址",trigger:"blur"},{type:"email",message:"请输入正确的邮箱地址",trigger:"blur,change"}]}},[a("el-input",{model:{value:e.dynamicValidateForm.email,callback:function(t){e.$set(e.dynamicValidateForm,"email",t)},expression:"dynamicValidateForm.email"}})],1),a("el-form-item",{attrs:{prop:"email",label:"用户名"}},[a("el-input",{model:{value:e.username,callback:function(t){e.username=t},expression:"username"}})],1)],1),a("el-form",{ref:"ruleForm2",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm2,"status-icon":"",rules:e.rules2,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"密码",prop:"pass"}},[a("el-input",{attrs:{type:"password","auto-complete":"off"},model:{value:e.ruleForm2.pass,callback:function(t){e.$set(e.ruleForm2,"pass",t)},expression:"ruleForm2.pass"}})],1),a("el-form-item",{attrs:{label:"确认密码",prop:"checkPass"}},[a("el-input",{attrs:{type:"password","auto-complete":"off"},model:{value:e.ruleForm2.checkPass,callback:function(t){e.$set(e.ruleForm2,"checkPass",t)},expression:"ruleForm2.checkPass"}})],1)],1),a("div",{staticClass:"block"},[e._v("\n      身份：\n    "),a("el-cascader",{attrs:{options:e.options},model:{value:e.selectedOptions,callback:function(t){e.selectedOptions=t},expression:"selectedOptions"}})],1),a("el-button",{attrs:{type:"success"},on:{click:e.handleAddRole}},[e._v("添加")])],1)},o=[],c={data:function(){var e=this,t=function(t,a,s){a.length<6&&s(new Error("密码需要超过6位数")),""===a?s(new Error("请输入密码")):(""!==e.ruleForm2.checkPass&&e.$refs.ruleForm2.validateField("checkPass"),s())},a=function(t,a,s){""===a?(e.password="",s(new Error("请再次输入密码"))):a!==e.ruleForm2.pass?(e.password="",s(new Error("两次输入密码不一致!"))):(s(),e.password=a)};return{dynamicValidateForm:{domains:[{value:""}],email:""},username:"",ruleForm2:{pass:"",checkPass:""},rules2:{pass:[{validator:t,trigger:"blur"}],checkPass:[{validator:a,trigger:"blur"}]},selectedOptions:[],options:[]}},methods:{handleAddRole:function(){var e=this;""==this.email?alert("请输入邮箱"):this.ruleForm2.pass!==this.ruleForm2.checkPass?alert("两次密码不一样，请确认密码"):this.ruleForm2.pass?this.selectedOptions?this.username?n["b"](this.username,this.ruleForm2.pass,this.selectedOptions[0],this.dynamicValidateForm.email,this.options[this.selectedOptions[0]].label).then(function(t){t.data.code&&(alert("添加成功"),e.$emit("addSuccess",t.data.data))}):alert("用户名不能为空"):alert("请选择管理员身份"):alert("密码不能为空")}},created:function(){var e=this;n["m"]().then(function(t){t.data.code&&(e.options=t.data.data.role_list)})}},u=c,d=(a("78ff"),a("2877")),m=Object(d["a"])(u,i,o,!1,null,null,null),p=m.exports,f={data:function(){return{managerList:[],modifyusername:"",modifyuseremail:"",modifyusersex:"",radio2:0}},created:function(){var e=this;n["g"]().then(function(t){if(t.data.code){t.data.data.manager_list.forEach(function(e){e["remark"]||(e["remark"]="无权限")});e.managerList=t.data.data.manager_list}})},methods:{deleteRow:function(e,t){t.splice(e,1)},seeMessage:function(e,t){this.$alert("<strong>用户名：".concat(t[e]["username"],"</strong>\n        <p>创建时间:").concat(t[e]["create_time"],"</p>\n        <p>邮箱:").concat(t[e]["email"],"</p>\n        <p>权限:").concat(t[e]["remark"]?t[e]["remark"]:"无权限","</p>\n        <p>性别:").concat(t[e]["sex"],"</p>\n        <p>是否禁用:").concat(t[e]["is_active"]?"未禁用":"禁用","</p>\n        "),"管理员信息",{dangerouslyUseHTMLString:!0})},addSuccess:function(e){this.managerList=[e].concat(Object(l["a"])(this.managerList))}},components:{addManager:p}},h=f,b=(a("3710"),Object(d["a"])(h,s,r,!1,null,null,null));t["default"]=b.exports},"78ff":function(e,t,a){"use strict";var s=a("8660"),r=a.n(s);r.a},8660:function(e,t,a){},d860:function(e,t,a){}}]);
//# sourceMappingURL=chunk-d1cf1484.8c259b36.js.map